[gd_resource type="Resource" script_class="NodeScriptResource" load_steps=2 format=3 uid="uid://dg70o0no2r122"]

[ext_resource type="Script" uid="uid://dj3n2nc47gi02" path="res://addons/nodescript/core/nodescript_resource.gd" id="1_m6amc"]

[resource]
script = ExtResource("1_m6amc")
meta = {
"class_name": "NodeScriptConfig",
"doc": "",
"extends": "RefCounted",
"tool": false
}
body = {
"classes": [],
"enums": {},
"functions": [{
"body": [{
"text": "NodeScript: default method body",
"type": "comment"
}, {
"text": "pass",
"type": "pass"
}, {
"text": "	var cfg := ConfigFile.new()",
"type": "raw"
}, {
"text": "	var err := cfg.load(CONFIG_PATH)",
"type": "raw"
}, {
"text": "	if err != OK:",
"type": "raw"
}, {
"text": "		return DEFAULTS.get(key, fallback)",
"type": "raw"
}, {
"text": "	return cfg.get_value(CONFIG_SECTION, key, DEFAULTS.get(key, fallback))",
"type": "raw"
}, {
"text": "",
"type": "raw"
}, {
"text": "",
"type": "raw"
}],
"class": "",
"def_line": 27,
"name": "get_setting",
"parameters": [{
"default": "",
"name": "key",
"type": "String"
}, {
"default": "null",
"name": "fallback",
"type": ""
}],
"region": "",
"return_type": "",
"scope_line": 0
}, {
"body": [{
"text": "NodeScript: default method body",
"type": "comment"
}, {
"text": "pass",
"type": "pass"
}, {
"text": "	var cfg := ConfigFile.new()",
"type": "raw"
}, {
"text": "	var err := cfg.load(CONFIG_PATH)",
"type": "raw"
}, {
"text": "	if err != OK:",
"type": "raw"
}, {
"text": "		cfg = ConfigFile.new()",
"type": "raw"
}, {
"text": "	cfg.set_value(CONFIG_SECTION, key, value)",
"type": "raw"
}, {
"text": "	cfg.save(CONFIG_PATH)",
"type": "raw"
}, {
"text": "",
"type": "raw"
}, {
"text": "",
"type": "raw"
}],
"class": "",
"def_line": 35,
"name": "set_setting",
"parameters": [{
"default": "",
"name": "key",
"type": "String"
}, {
"default": "",
"name": "value",
"type": ""
}],
"region": "",
"return_type": "void",
"scope_line": 0
}, {
"body": [{
"text": "NodeScript: default method body",
"type": "comment"
}, {
"text": "pass",
"type": "pass"
}, {
"text": "	var v = get_setting(key, fallback)",
"type": "raw"
}, {
"text": "	match typeof(v):",
"type": "raw"
}, {
"text": "		TYPE_BOOL:",
"type": "raw"
}, {
"text": "			return v",
"type": "raw"
}, {
"text": "		TYPE_STRING:",
"type": "raw"
}, {
"text": "			var lower: String = v.to_lower()",
"type": "raw"
}, {
"text": "			if lower == \"true\":",
"type": "raw"
}, {
"text": "				return true",
"type": "raw"
}, {
"text": "			if lower == \"false\":",
"type": "raw"
}, {
"text": "				return false",
"type": "raw"
}, {
"text": "			return lower != \"\"",
"type": "raw"
}, {
"text": "		TYPE_INT, TYPE_FLOAT:",
"type": "raw"
}, {
"text": "			return v != 0",
"type": "raw"
}, {
"text": "		_:",
"type": "raw"
}, {
"text": "			return bool(v)",
"type": "raw"
}, {
"text": "",
"type": "raw"
}, {
"text": "",
"type": "raw"
}],
"class": "",
"def_line": 44,
"name": "get_bool",
"parameters": [{
"default": "",
"name": "key",
"type": "String"
}, {
"default": "false",
"name": "fallback",
"type": "bool"
}],
"region": "",
"return_type": "bool",
"scope_line": 0
}, {
"body": [{
"text": "NodeScript: default method body",
"type": "comment"
}, {
"text": "pass",
"type": "pass"
}, {
"text": "	return int(get_setting(key, fallback))",
"type": "raw"
}, {
"text": "",
"type": "raw"
}, {
"text": "",
"type": "raw"
}],
"class": "",
"def_line": 62,
"name": "get_int",
"parameters": [{
"default": "",
"name": "key",
"type": "String"
}, {
"default": "0",
"name": "fallback",
"type": "int"
}],
"region": "",
"return_type": "int",
"scope_line": 0
}, {
"body": [{
"text": "NodeScript: default method body",
"type": "comment"
}, {
"text": "pass",
"type": "pass"
}, {
"text": "	set_setting(key, value)",
"type": "raw"
}, {
"text": "",
"type": "raw"
}, {
"text": "",
"type": "raw"
}],
"class": "",
"def_line": 66,
"name": "set_bool",
"parameters": [{
"default": "",
"name": "key",
"type": "String"
}, {
"default": "",
"name": "value",
"type": "bool"
}],
"region": "",
"return_type": "void",
"scope_line": 0
}, {
"body": [{
"text": "NodeScript: default method body",
"type": "comment"
}, {
"text": "pass",
"type": "pass"
}, {
"text": "	set_setting(key, value)",
"type": "raw"
}, {
"text": "",
"type": "raw"
}, {
"text": "",
"type": "raw"
}],
"class": "",
"def_line": 70,
"name": "set_int",
"parameters": [{
"default": "",
"name": "key",
"type": "String"
}, {
"default": "",
"name": "value",
"type": "int"
}],
"region": "",
"return_type": "void",
"scope_line": 0
}, {
"body": [{
"text": "NodeScript: default method body",
"type": "comment"
}, {
"text": "pass",
"type": "pass"
}, {
"text": "	return get_int(\"log_level\", DEFAULTS[\"log_level\"])",
"type": "raw"
}, {
"text": "",
"type": "raw"
}, {
"text": "",
"type": "raw"
}],
"class": "",
"def_line": 74,
"name": "get_log_level",
"parameters": [],
"region": "",
"return_type": "int",
"scope_line": 0
}, {
"body": [{
"text": "NodeScript: default method body",
"type": "comment"
}, {
"text": "pass",
"type": "pass"
}, {
"text": "	var strategy = get_setting(\"auto_space_strategy\", DEFAULTS[\"auto_space_strategy\"])",
"type": "raw"
}, {
"text": "	var valid_strategies := [\"none\", \"between_types\", \"after_groups\"]",
"type": "raw"
}, {
"text": "	if str(strategy) in valid_strategies:",
"type": "raw"
}, {
"text": "		return str(strategy)",
"type": "raw"
}, {
"text": "	return DEFAULTS[\"auto_space_strategy\"]",
"type": "raw"
}, {
"text": "",
"type": "raw"
}, {
"text": "",
"type": "raw"
}],
"class": "",
"def_line": 78,
"name": "get_auto_space_strategy",
"parameters": [],
"region": "",
"return_type": "String",
"scope_line": 0
}, {
"body": [{
"text": "NodeScript: default method body",
"type": "comment"
}, {
"text": "pass",
"type": "pass"
}, {
"text": "	return get_bool(\"auto_space_enabled\", DEFAULTS[\"auto_space_enabled\"])",
"type": "raw"
}, {
"text": "",
"type": "raw"
}, {
"text": "",
"type": "raw"
}],
"class": "",
"def_line": 86,
"name": "get_auto_space_enabled",
"parameters": [],
"region": "",
"return_type": "bool",
"scope_line": 0
}, {
"body": [{
"text": "NodeScript: default method body",
"type": "comment"
}, {
"text": "pass",
"type": "pass"
}, {
"text": "	set_bool(\"auto_space_enabled\", enabled)",
"type": "raw"
}, {
"text": "",
"type": "raw"
}, {
"text": "",
"type": "raw"
}],
"class": "",
"def_line": 90,
"name": "set_auto_space_enabled",
"parameters": [{
"default": "",
"name": "enabled",
"type": "bool"
}],
"region": "",
"return_type": "void",
"scope_line": 0
}, {
"body": [{
"text": "NodeScript: default method body",
"type": "comment"
}, {
"text": "pass",
"type": "pass"
}, {
"text": "	return get_bool(\"consolidate_blank_lines\", DEFAULTS[\"consolidate_blank_lines\"])",
"type": "raw"
}, {
"text": "",
"type": "raw"
}, {
"text": "",
"type": "raw"
}],
"class": "",
"def_line": 94,
"name": "get_consolidate_blank_lines",
"parameters": [],
"region": "",
"return_type": "bool",
"scope_line": 0
}, {
"body": [{
"text": "NodeScript: default method body",
"type": "comment"
}, {
"text": "pass",
"type": "pass"
}, {
"text": "	set_bool(\"consolidate_blank_lines\", enabled)",
"type": "raw"
}, {
"text": "",
"type": "raw"
}, {
"text": "",
"type": "raw"
}],
"class": "",
"def_line": 98,
"name": "set_consolidate_blank_lines",
"parameters": [{
"default": "",
"name": "enabled",
"type": "bool"
}],
"region": "",
"return_type": "void",
"scope_line": 0
}, {
"body": [{
"text": "NodeScript: default method body",
"type": "comment"
}, {
"text": "pass",
"type": "pass"
}, {
"text": "	set_int(\"tree_display_mode\", mode)",
"type": "raw"
}, {
"text": "",
"type": "raw"
}],
"class": "",
"def_line": 102,
"name": "set_tree_display_mode",
"parameters": [{
"default": "",
"name": "mode",
"type": "int"
}],
"region": "",
"return_type": "void",
"scope_line": 0
}],
"order": {
"|": [{
"code": "const CONFIG_PATH := \"res://addons/nodescript/config.cfg\"",
"indent": 0,
"line": 8,
"name": "CONFIG_PATH",
"type": "variable"
}, {
"code": "const CONFIG_SECTION := \"nodescript\"",
"indent": 0,
"line": 9,
"name": "CONFIG_SECTION",
"type": "variable"
}, {
"auto_spacing": false,
"indent": 0,
"line": 10,
"manual_blank": true,
"name": "blank_1",
"type": "blank"
}, {
"code": "const DEFAULTS := {",
"indent": 0,
"line": 11,
"name": "DEFAULTS",
"type": "variable"
}, {
"auto_spacing": false,
"indent": 0,
"line": 20,
"manual_blank": true,
"name": "blank_2",
"type": "blank"
}, {
"code": "static func get_setting(key: String, fallback=null):",
"indent": 0,
"line": 27,
"name": "get_setting",
"type": "function"
}, {
"code": "static func set_setting(key: String, value) -> void:",
"indent": 0,
"line": 35,
"name": "set_setting",
"type": "function"
}, {
"code": "static func get_bool(key: String, fallback: bool = false) -> bool:",
"indent": 0,
"line": 44,
"name": "get_bool",
"type": "function"
}, {
"code": "static func get_int(key: String, fallback: int = 0) -> int:",
"indent": 0,
"line": 62,
"name": "get_int",
"type": "function"
}, {
"code": "static func set_bool(key: String, value: bool) -> void:",
"indent": 0,
"line": 66,
"name": "set_bool",
"type": "function"
}, {
"code": "static func set_int(key: String, value: int) -> void:",
"indent": 0,
"line": 70,
"name": "set_int",
"type": "function"
}, {
"code": "static func get_log_level() -> int:",
"indent": 0,
"line": 74,
"name": "get_log_level",
"type": "function"
}, {
"code": "static func get_auto_space_strategy() -> String:",
"indent": 0,
"line": 78,
"name": "get_auto_space_strategy",
"type": "function"
}, {
"code": "static func get_auto_space_enabled() -> bool:",
"indent": 0,
"line": 86,
"name": "get_auto_space_enabled",
"type": "function"
}, {
"code": "static func set_auto_space_enabled(enabled: bool) -> void:",
"indent": 0,
"line": 90,
"name": "set_auto_space_enabled",
"type": "function"
}, {
"code": "static func get_consolidate_blank_lines() -> bool:",
"indent": 0,
"line": 94,
"name": "get_consolidate_blank_lines",
"type": "function"
}, {
"code": "static func set_consolidate_blank_lines(enabled: bool) -> void:",
"indent": 0,
"line": 98,
"name": "set_consolidate_blank_lines",
"type": "function"
}, {
"code": "static func set_tree_display_mode(mode: int) -> void:",
"indent": 0,
"line": 102,
"name": "set_tree_display_mode",
"type": "function"
}]
},
"regions": [],
"signals": {},
"variables": [{
"class": "",
"const": true,
"export": false,
"name": "CONFIG_PATH",
"onready": false,
"region": "",
"scope_line": 0,
"type": "= \"res",
"value": ""
}, {
"class": "",
"const": true,
"export": false,
"name": "CONFIG_SECTION",
"onready": false,
"region": "",
"scope_line": 0,
"type": "= \"nodescript\"",
"value": ""
}, {
"class": "",
"const": true,
"export": false,
"name": "DEFAULTS",
"onready": false,
"region": "",
"scope_line": 0,
"type": "= {",
"value": ""
}]
}
